id: yrbss
description: "YRBSS high school data from 2000 to 2015"
strata:
  - year
  - sitecode
facets:
  - sex
  - race
  - grade
  - sexid
  - sexpart
national:
  incl: True
  vals: [XX]
surveys:
  denovo_strata: False
  parse_mode: spss
  source_url_prefix: "https://www.cdc.gov/brfss/annual_data/{year}/files/"
  s3_url_prefix: "s3://cdc-survey-data/yrbss/"
  qids: [qn14, qn27, qn65, qn13, qn47, qn82, qn70, qn33, qn42, qn84, qn63, qnfrcig, qn51, qn83, qnfr2, qn60, qn24, qn10, qnfr1, qn48, qndlype, qnshparg, qn8, qnbk7day, qn62, qn61, qn43, qn59, qn56, qn41, qntob3, qn25, qnveg1, qndaycig, qnpa0day, qn77, qn32, qn36, qn87, qnsoda3, qn81, qn16, qn58, qn64, qnbcnone, qn31, qn54, qn44, qn9, qntob2, qnsoda1, qn40, qn20, qn37, qnmilk3, qnveg3, qn78, qn29, qn17, qnfr3, qn21, qn53, qn19, qn69, qn26, qnveg2, qn46, qn45, qn79, qn50, qn49, qn18, qnfr0, qn88, qn23, qn30, qn38, qn85, qnmilk2, qnobese, qn34, qn80, qn52, qnmilk1, qndualbc, qn66, qn11, qn22, qnveg0, qnowt, qn28, qn55, qn35, qnothhpl, qn12, qn86, qn57, qnpa7day, qnsoda2, qn15, qniudimp, qn39, qntob4, qncigint, qnspdrk2, qnhallucdrug, qnmusclestrength, qnindoortanning, qnwater3, qnspdrk1, qnwater1, qnwater, qnhowmarijuana, qnfoodallergy, qnspdrk3, qnsunburn, qnsportsdrink, qnwater2] 
  meta:
    cols: [year, fwf_zip, fwf, spss, format, formas, sasout, weight, psu, strata, sitecode, sitecode_type, sex, race, grade, sexid, sexpart]
    rows:
      - [year, sadc_2015_national_ASCII.zip, sadc_2015_national.dat, 2015-sadc-spss-input-program.sps, 2015-sadc-sas-formats-program.sas, 2015-SADC-SAS-Input-Program.sas, 2015-SADC-SAS-Input-Program.sas, weight, psu, stratum, sitecode, codes, sex, race7, grade, sexid, sexpart]
      - [year, sadc_2015_state_a_m_ASCII.zip, sadc_2015_state_a_m.dat, 2015-sadc-spss-input-program.sps, 2015-sadc-sas-formats-program.sas, 2015-SADC-SAS-Input-Program.sas, 2015-SADC-SAS-Input-Program.sas, weight, psu, stratum, sitecode, codes, sex, race7, grade, sexid, sexpart]
      - [year, sadc_2015_state_n_z_ASCII.zip, sadc_2015_state_n_z.dat, 2015-sadc-spss-input-program.sps, 2015-sadc-sas-formats-program.sas, 2015-SADC-SAS-Input-Program.sas, 2015-SADC-SAS-Input-Program.sas, weight, psu, stratum, sitecode, codes, sex, race7, grade, sexid, sexpart]
  patch_format: {}
  na_synonyms:
    - "na"
    - "ref"
    - "dk/ns"
    - "unk/ref"
    - "missing"
    - "refused"
    - "refused/missing"
    - "not asked or missing"
    - "don't know/not sure"
    - "dont know/not sure"
    - "donâ€™t know/not sure/refused"
    - "dont know/not sure/refused"
    - "don't know/refused/missing"
    - "dont know/refused/missing"
  replace_labels: {}
  rename_cols: pdutil.undash
socrata:
  soda_api:
    - "https://chronicdata.cdc.gov/resource/6ay3-nik2.json?$where=(StratificationType='State' OR StratificationType='National')"
  mapcols:
    questioncode: qid
    locationabbr: sitecode
    greater_risk_data_value: mean
    greater_risk_high_confidence_limit: ci_u
    greater_risk_low_confidence_limit: ci_l
    greater_risk_data_value_footnote_symbol: se
    lesser_risk_data_value: mean_no
    lesser_risk_high_confidence_limit: ci_u_no
    lesser_risk_low_confidence_limit: ci_l_no
    lesser_risk_data_value_footnote_symbol: se_no
    shortquestiontext: question
    description: description
    greater_risk_question: greater_risk_question
    lesser_risk_question: lesser_risk_question
    sexualidentity: sexid
    sexofsexualcontact: sexpart
  apply_fn:
    ci_u: pdutil.div100
    ci_l: pdutil.div100
    mean: pdutil.div100
    ci_u_no: pdutil.div100
    ci_l_no: pdutil.div100
    mean_no: pdutil.div100
    qid: pdutil.fix_qid_yrbss
  unstack: null
  fold_stats:
    y:
      - mean
      - ci_u
      - ci_l
      - se
    n:
      - mean_no
      - ci_u_no
      - ci_l_no
      - se_no
  mapvals:
    race:
      "Native Hawaiian or Other Pacific Islander": "Native Hawaiian/other PI"
      "American Indian or Alaska Native": "Am Indian / Alaska Native"
      "Hispanic or Latino": "Hispanic/Latino"
      "Multiple Race": "Multiple - Non-Hispanic"
  qn_meta: [qid, year, sitecode, question, topic, subtopic, response, greater_risk_question, lesser_risk_question, description]
  c_filter: [qid, year, question, topic, subtopic, response, greater_risk_question, lesser_risk_question, description, sitecode, sample_size, mean, se, ci_u, ci_l]
